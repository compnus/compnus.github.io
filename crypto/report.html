<!DOCTYPE html>
<html lang="en">
<head>
    <script src="../head.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script src="../script.js" defer></script>
    <title>Report an App - CryptoNUS</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="util.css" />
    <script src="listEarn.js"></script>
    <script src="listNew.js"></script>
    <script src="util.js" defer></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZW8SQ3EQ1B"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-ZW8SQ3EQ1B');</script>
</head>
<body>
    <script>initHeader("Report an App");</script>
    <main id="main" class="landing">
        <div class="input">
            <label style="font-family: Ubuntu">I want to report a</label>
            <div class="halve max">
                <select style="font-weight: bold" onchange="setScreen(this.value)" id="setter">
                    <option value="null">-- please select --</option>
                    <option value="new">new crypto project.</option>
                    <option value="earn">free crypto app.</option>
                </select>
                <button onclick="popup('Rewards', 'We value every report and will reward contributors accordingly.<br><br><b>Reporting Scams</b><br>You will earn Nocas for reporting a scam with enough proof.<br><br><b>Proving Legitimacy</b><br>If we promised dividends when this app gets verified, you will earn a significant boost. Otherwise, you will earn $NUS.<br><br><br><b>Punishment</b><br><b>Falsely reporting legit apps as scams</b> and <b>providing fake legitimacy proofs</b> will lead to removing your ability to earn any dividends.', true, true)">?</button>
            </div>
        </div>
        <div class="input">
            <label style="font-family: Ubuntu" for="appselect">App:</label>
            <select style="font-weight: bold" id="appselect" class="disabled max">
                <option value="null">Please select what you want to report first.</option>
            </select>
        </div>
        <br />
        <form id="new" class="landing utilScreen">
            <h2 style="margin-top: 0">I hereby declare,<br />that the selected project is a <i>scam</i>.</h2>
            <p class="limited">* Please describe the scam aspect. This can be anything from pointing out the red flags to showing any proof of it actually being a scam (provide links to reliable media, show the background of the developers, etc.):</p>
            <textarea id="newprf" style="resize: none; margin-bottom: calc((0.5vw + 0.5vh) / 2)" required></textarea>
            <p style="font-weight: bold; display: none" id="newstatus"></p>
            <button type="submit" id="newsubmit">Submit</button>
        </form>
        <form id="earn" class="landing utilScreen">
            <div class="input">
                <label for="earntype" style="flex: 0">The selected app is</label>
                <select id="earntype" onchange="setText(this.value)" style="flex: 1">
                    <option value="scam">a scam.</option>
                    <option value="legit">legit.</option>
                </select>
            </div>
            <h2>I hereby declare,<br />that the selected app is <span id="earnspan">a <i>scam</i></span>.</h2>
            <p class="limited" id="earntext">* Please describe the scam aspect and provide proof. This can be anything from pointing out the red flags to showing any proof of it actually being a scam (provide links to reliable media, show the background of the developers, etc.):</p>
            <textarea id="earnprf" style="resize: none; margin-bottom: calc((0.5vw + 0.5vh) / 2)" required></textarea>
            <p style="font-weight: bold; display: none" id="earnstatus"></p>
            <button type="submit" id="earnsubmit">Submit</button>
        </form>
    </main>
    <main id="loginfirst" style="display: none; flex-direction: column" class="flex cc">
        <h1>You must be logged in to report apps.</h1><br /><br />
        <a href='/u/login.html' class='link' style='font-size: 40px;'><h2>Log In</h2></a>
    </main>
    <script>
        initFooter();
        document.addEventListener("DOMContentLoaded", async () => {
            const { data, error } = await sb.auth.getUser();

            if (!data.user) {
                document.getElementById("main").style.display = "none";
                document.getElementById("loginfirst").style.display = "flex";
                return;
            }
            if (error) {
                console.error(error);
                return;
            }

            main();
        });

        document.getElementById('new').addEventListener('submit', (e) => {
            e.preventDefault();
            submitForm('rep', 'new');
        });
        document.getElementById('earn').addEventListener('submit', (e) => {
            e.preventDefault();
            submitForm('rep', 'earn');
        });
    </script>
</body>
</html>